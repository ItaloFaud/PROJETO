!function(){function t(){var t=document.createElement("script");t.setAttribute("src","//widget.fitanalytics.com/widget_jq.js"),t.setAttribute("type","text/javascript"),document.body.appendChild(t),e.initialize(),window._fitAnalytics=window._upcload=function(){},window._fitAnalytics.shop=e}if(!window._fitAnalytics){var e={prefix:"netshoes-",products:{},isMobile:/iphone|android|iemobile|blackberry/i.test(window.navigator.userAgent)&&("mozInnerScreenX"in window?"onorientationchange"in window&&"ontouchstart"in window:"ontouchstart"in window),el:{productContainer:"#content div[data-sku-changed-target]",sizes:"section.product-size-selector ul > li",mobileSizes:"section.product-size-selector section.color-flavor-size-content ul > li",addToCart:"section.action-buttons button#buy-button-now",mobileAddToCart:"div#buy-button-wrapper > button#buy-button-now",thumbnail:"section.photo div#preview > img",mobileThumbnail:"section#photo figure.photo-figure.swiper-slide-active > img",productIds:"section.product-sku-selector ul > li",mobileProductIds:"section.product-sku-selector section.color-flavor-size-content ul > li",buttonAnchor:"section.product-size-selector div.size-chart",buttonAnchorAlternative:"section.product-size-selector",mobileButtonAnchor:"section.size-chart-wrapper",sizeChart:"section.product-size-selector a.open-size-chart, section.size-chart-wrapper > section.size-chart"},hideSizeChart:!0,initialize:function(){var t=setInterval(function(){e.isLoaded()&&(clearInterval(t),e.onLoaded())},50)},isLoaded:function(){return"function"==typeof window.FitAnalyticsWidget},onLoaded:function(){e.isDataAvailable()&&e.onPageLoaded()},isDataAvailable:function(){var t=e.getCurrentSerial(),n=e.getSerials();return!(!t||!n.length)},find:function(t){return e.$(e.getContainer()).find(t)},findDOM:function(t){if("string"==typeof t&&t.length>0){var n=e.getContainer();if(null!=n){var i=n.querySelectorAll(t);return Array.apply(null,i)}}return[]},getContainer:function(){return document.querySelector(e.el.productContainer)},getCurrentRawSerial:function(){var t="";return e.isMobile?e.findDOM(e.el.mobileProductIds).some(function(e){var n=e.getElementsByTagName("input");if(n.length>0&&n[0].hasAttribute("checked"))return t=n[0].getAttribute("value"),!0}):e.findDOM(e.el.productIds+".active").map(function(e){var n=e.getElementsByTagName("a");if(n.length>0)return t=n[0].getAttribute("data-sku"),!0}),t},getCurrentSerial:function(){var t=e.getCurrentRawSerial();return t&&e.prefix+t},getRawSerials:function(){var t=e.isMobile?e.el.mobileProductIds:e.el.productIds,n=e.isMobile?"input":"a",i=e.isMobile?"id":"data-sku";return e.findDOM(t).map(function(t){var e=t.getElementsByTagName(n);return e.length<1?"":e[0].getAttribute(i)})},getSerials:function(){return e.getRawSerials().map(function(t){return e.prefix+t})},getSizes:function(){var t=[];t.dic={},t.state={};var n=e.isMobile?e.el.mobileSizes:e.el.sizes,i=e.isMobile?"input":"a";return e.findDOM(n).map(function(e){var n=e.getElementsByTagName(i),o=n.length>0?n[0].getAttribute("data-label"):"",r=!e.classList.contains("unavailable");o.length>0&&(t.state[o]=r,r&&(t.push(o),t.dic[o]=n[0]))}),t},getLanguage:function(){return(document.documentElement.getAttribute("lang")||"").substring(0,2).toLowerCase()},getCountry:function(){return(document.documentElement.getAttribute("lang")||"").substring(3,5).toUpperCase()},getThumbnail:function(){var t=e.isMobile?e.el.mobileThumbnail:e.el.thumbnail,n=e.findDOM(t);return n.length>0?n[0].src:""},getUserId:function(){return window.chaordic_meta&&window.chaordic_meta.user&&window.chaordic_meta.user.id||null},getSizeChart:function(){return e.findDOM(e.el.sizeChart)},getContext:function(t){return e.products[t]},setContext:function(t,n){return e.products[t]=e.$.extend(e.products[t],n)},onPageLoaded:function(){e.loadWidget(),e.$=e.widget.jquery,e.requestProducts(),e.$(e.el.productContainer).on("click",e.el.sizeChart,function(){e.widget.meterClick("sizeChart",{garmentId:e.getCurrentSerial()})})},loadWidget:function(){e.widget=new window.FitAnalyticsWidget({language:e.getLanguage(),shopCountry:e.getCountry(),userId:e.getUserId(),recommend:function(t,n,i){e.recommend(t,n,i)},close:function(t,n,i){e.recommend(t,n,i)},open:function(){Object.keys(e.products).forEach(function(t){(e.products[t]||{}).recommendation=null})}})},requestProducts:function(){e.collectProducts();var t=Object.keys(e.products);e.widget.requestProducts(t,function(t){t.forEach(function(t){e.setContext(t.garment.serial,{isSupported:!0})}),e.checkForProductChange()})},collectProducts:function(){e.getSerials().forEach(function(t){e.setContext(t,{isSupported:!1})})},recommend:function(t,n,i){e.addRecommendationToContext(t,n,i),e.button.setText(n,i)},addRecommendationToContext:function(t,n,i){e.setContext(t,{recommendation:{size:n,details:i}})},checkForProductChange:function(){!function(){var t;setInterval(function(){var n=e.getCurrentSerial();t!==n?(t=n)&&e.onProductChange():e.find("#fitanalytics__button").length<1&&e.onProductLoaded()},200)}()},onProductChange:function(){e.reconfigure()},reconfigure:function(){var t=e.getCurrentSerial();t&&e.getContext(t);e.widget.reconfigure({productId:t},e.onProductLoaded,e.onProductLoaded)},onProductLoaded:function(){var t=e.getContext(e.getCurrentSerial());t&&t.isSupported?e.installButton(t):(e.button.hide(),e.find(e.getSizeChart()[0]).show())},installButton:function(t){e.button.install(),t.recommendation?e.button.setText(t.recommendation.size,t.recommendation.details):(t.recommendation=!0,e.getRecommendation()),e.hideSizeChart&&e.find(e.getSizeChart()).hide(),e.button.show()},getRecommendation:function(){e.widget.getRecommendation({productId:e.getCurrentSerial(),thumb:e.getThumbnail(),manufacturedSizes:e.getSizes().state})},button:{elementId:"fitanalytics__button",text:{bg:["Намери своя размер","Вашият размер е"],de:["Finde deine Größe","Deine Größe ist"],en:["Find your size","Your size is"],es:["Encuentra tu talla","Tu talla es"],it:["Trova la tua taglia","La tua taglia è"],nl:["Vind jouw maat","Jouw maat is"],fi:["Löydä oma kokosi","Sinun kokosi on"],fr:["Trouver ma taille","Votre taille est"],ro:["Găsește-mi mărimea","Mărimea dvs. este"],ru:["Найдите свой размер","Ваш размер"],sv:["Hitta din storlek","Din storlek är"],tr:["Size uyan bedeni bulun","Sizin bedeniniz"],pl:["Znajdź mój rozmiar","Twój rozmiar to"],pt:["Encontrar seu tamanho","Seu tamanho é"]},getText:function(t,n){return e.isMobile?"Tabela de Tamanhos":"Ver tabela"},setText:function(t,e){this.find().find(".fitanalytics__button-text").html(this.getText(t,e))},buildButton:function(){var t=this.getText();return e.$("<a></a>").attr({id:this.elementId}).css({cursor:"auto","margin-bottom":e.isMobile?"0":"4px",padding:e.isMobile?"5px 15px":"0",display:"inline-block",width:"auto","line-heigth":"1.875rem"}).on("click",this.onClick).append(e.$("<span></span>").attr({class:"fitanalytics__button-text",onmouseover:'this.style.textDecoration="none";return false;',onmouseleave:'this.style.textDecoration="underline";return false;'}).css({display:"inline-block","text-decoration":"underline",cursor:"pointer","font-size":"14px","font-family":'"trebuchet ms", Arial, sans-serif',color:"#333"}).text(t))},isInitialized:!1,show:function(){this.find().show()},hide:function(){this.find().hide()},find:function(){return e.find("#"+this.elementId)},onClick:function(){return e.widget.meterClick("sizeAdvisor"),e.widget.open({productId:e.getCurrentSerial(),thumb:e.getThumbnail(),manufacturedSizes:e.getSizes().state}),!1},install:function(){if(!this.find().length){var t=this.buildButton(),n=e.isMobile?e.el.mobileButtonAnchor:e.el.buttonAnchor,i=e.find(n);i.length<1?(i=e.find(e.el.buttonAnchorAlternative),i.prepend(t)):i.append(t)}}}};"interactive"===document.readyState||"complete"===document.readyState?t():document.addEventListener("DOMContentLoaded",function(){t()})}}();