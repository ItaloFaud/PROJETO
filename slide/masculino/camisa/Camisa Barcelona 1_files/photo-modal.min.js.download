"use strict";!function(){function e(e){var o=document.querySelector("[data-photo-modal-content]"),t=new Image,n=window.freedom.nodeListToArray(o.querySelectorAll(".preview img"));n.forEach(function(e){r.pub("nsLoading.show",e.parentNode,"sticky"),t.onload=function(){e.src=t.src,r.pub("nsLoading.hide",e.parentNode)}}),t.src=e}function o(e){var o={badges:e.querySelector("[data-discount-badges]"),image:e.querySelector("img.zoom"),lens:e.querySelector(".magnifier-lens"),video:e.querySelector("[data-ns-video]")},t=e.querySelector(".preview img"),r=e.querySelector("[data-thumbs]"),n=e.querySelector("[data-swiper-container-thumbs]"),a=e.querySelector("[data-swiper-wrapper-thumbs]"),d=e.querySelector("[data-video-list]");e.querySelector(".preview").removeAttribute("id"),t.removeAttribute("id"),t.removeAttribute("style"),t.removeAttribute("class"),a.removeAttribute("style"),window.freedom.removeClass(r,"horizontal"),window.freedom.addClass(r,"vertical"),window.freedom.removeClass(n,"swiper-container-horizontal"),window.freedom.addClass(n,"swiper-container-vertical");for(var i in o)o[i]&&o[i].parentNode.removeChild(o[i]);return d&&d.parentNode.removeChild(d),e}function t(){var e=document.querySelector("[data-photo-content]"),t=document.createElement("div"),n=document.querySelector("[data-photo-modal-content]");t.innerHTML=e.innerHTML,o(t),n.innerHTML="",n.appendChild(t),r.pub("Thumbs.Swiper.start"),r.pub("modal.toggle","photo-modal",!0)}var r=window.freedom.nsPubSub||{};!function(){var o=r.sub("thumbs.loaded",function(){r.sub("Carrossel.changeIMG",e),void 0!==o&&o.revoke()});r.sub("Zoom.loaded",function(){window.freedom.live("#content .photo-figure","click",t)}),r.sub("modal.opened",function(){var e=document.querySelector("[data-photo-modal-content]");r.pub("Thumbs.restart",e,!0)}),r.sub("modal.closed",function(){r.pub("Thumbs.restart",!1,!1)})}()}();