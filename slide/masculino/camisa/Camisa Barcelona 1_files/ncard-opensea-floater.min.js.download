"use strict";!function(){function e(){if(i&&c){var e=c.getBoundingClientRect().top;e<-40?i.className.indexOf("ncard-opensea-floater-short")<0&&(i.className="ncard-opensea-floater ncard-opensea-floater-short"):i.className.indexOf("ncard-opensea-floater-short")>=0&&(i.className="ncard-opensea-floater")}}function o(){if(i=document.querySelector("[data-ncard-opensea-floater]"),c=document.getElementsByTagName("body")[0],i){if(window.freedom.cookie&&window.freedom.cookie.get("uname")){u=decodeURIComponent(window.freedom.cookie.get("uname"));var o=i.querySelector("[data-card-name]");o&&(o.innerHTML=u),window.freedom.removeClass(i,"hide"),window.addEventListener("scroll",e)}window.freedom.nsPubSub.pub("nCard.floater.open")}}function n(){i=document.querySelector("[data-ncard-opensea-floater]"),window.freedom.addClass(i,"hide")}function r(){var e=!0;return window.freedom.cookie.get("ncard_surprised")!==!0&&"true"!==window.freedom.cookie.get("ncard_surprised")||(e=!1),e}function d(){var e=!1;return r()&&window.freedom.cookie.get("ncard_opensea")&&"PRE_APPROVED"===window.freedom.cookie.get("ncard_opensea")&&(e=!0),e}function a(){f=document.querySelector("[data-ncard-surprised-floater]"),f?window.freedom.nsPubSub.sub("ncard.opensea.init.floater",t):t()}function t(){if(window.freedom.cookie&&window.freedom.cookie.get("uname"))if(d()){if(null===window.freedom.cookie.get("ncard_opensea_floater_refused")){o();var e=document.querySelector("[data-ncard-opensea-floater]").querySelector(".floater-buttons .floater-close-action");e.addEventListener("click",s)}}else n()}function s(){i=document.querySelector("[data-ncard-opensea-floater]"),i&&(window.freedom.addClass(i,"hide"),window.removeEventListener("scroll",e));var o={method:"put",type:"json"};window.freedom.restClient.request("ncard/proposal/opensea-refused",o),window.freedom.nsPubSub.pub("nCard.floater.close")}var i,c,u,f;!function(){a(),window.freedom.nsPubSub.sub("ncard.opensea.floater.show",o),window.freedom.nsPubSub.sub("ncard.opensea.floater.close",s),window.freedom.nsPubSub.sub("ncard.surprised.hide.opensea",n)}()}();