"use strict";!function(){function e(e,t){var o=u.visible,a=document.querySelector('[data-modal-target="'+e+'"]');return t?(window.freedom.addClass(document.body,u.enabled),window.freedom.addClass(a,o),c.pub("overlay.display","show"),void c.pub("modal.opened")):(window.freedom.removeClass(a,o),window.freedom.removeClass(document.body,u.enabled),c.pub("overlay.display","hide"),void c.pub("modal.closed"))}function t(t){t.preventDefault();var o=t.currentTarget,a=o.getAttribute("data-modal-trigger"),r=o.getAttribute("data-ajax-modal");r||e(a,!0)}function o(t){t.preventDefault();var o=t.currentTarget,a=o.getAttribute("data-modal-close")||o.getAttribute("data-modal-target");e(a)}function a(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}function r(t){if(!a(t.target,u.modal)){var o=this.getAttribute("data-modal-close")||this.getAttribute("data-modal-target");e(o)}}function d(e,a){setTimeout(function(){a.forEach(function(e){var t=e.querySelector("[data-modal-close]");t&&t.addEventListener("click",o),window.freedom.hasClass(e,"click-overlay-close")&&e.addEventListener("click",r)}),e.addEventListener("click",t)},0)}function n(e,t){var o=null,a="[data-modal-target"+(t?'="'+t+'"':"]");o=window.freedom.nodeListToArray(document.querySelectorAll(a)),e.forEach(function(e){var a=o.filter(function(o){var a=t||e.getAttribute("data-modal-trigger");return o.getAttribute("data-modal-target")===a});d(e,a)})}function i(){var e="[data-modal-trigger]",t=window.freedom.nodeListToArray(document.querySelectorAll(e));n(t)}function l(e){var a="[data-modal-trigger"+(e?'="'+e+'"':"]"),r="[data-modal-close"+(e?'="'+e+'"':"]"),d=document.querySelectorAll(a),i=document.querySelectorAll(r);d=window.freedom.nodeListToArray(d),i=window.freedom.nodeListToArray(i),i.forEach(function(e){e.removeEventListener("click",o)}),d.forEach(function(e){e.removeEventListener("click",t)}),n(d,e)}var c=window.freedom.nsPubSub,u={modal:"tingle-modal",visible:"tingle-modal--visible",enabled:"tingle-enabled"};!function(){i(),c.sub("modal.toggle",e),c.sub("modal.restart",l)}()}();