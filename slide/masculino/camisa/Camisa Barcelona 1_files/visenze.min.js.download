"use strict";!function(){function e(e){console.error(e)}function t(e,t){var n=document.createElement("div");e&&(n.innerHTML=e,null!==n.querySelector(".pr")&&(n=n.querySelector(".pr").querySelector("span"),null!==n.querySelector("del")&&n.querySelector("del").remove(),null!==t.querySelector(".price")&&t.querySelector(".price").appendChild(n)))}function n(e,t){var n=document.createElement("span");n.innerHTML=e,n=n.querySelector('span[itemprop="price"]')?n.querySelector('span[itemprop="price"]').textContent:n.querySelector(".fallback-btn-content").textContent,"Confira"!==n&&(t.querySelector(".tagged-item__content__item__description__price").innerHTML="R$"+n)}function r(r,i,o){var a={method:"get",success:function(e){e&&(o?n(e,i):t(e,i))},error:e};window.freedom.restClient.request("/refactoring/tpl/frdmprcs/"+r+"/lazy",a)}function i(t,n,r){var i=n.hasAttribute("data-mode-lookbook"),o={displayLoading:!0,method:"post",type:"html",data:{data:t,modelookbook:i},success:function(e){i?a(t,n,e,r):c(t,n,e)},error:e};window.freedom.restClient.request("/visenze/modal/template",o)}function o(){var e=document.querySelectorAll("ul.tagged-item__content");e.forEach(function(e){var t=e.querySelectorAll("li.tagged-item__content__item");[].slice.call(t).sort(function(e,t){var n=e.getAttribute("data-position"),r=t.getAttribute("data-position");return n<r?-1:n>r?1:0}).forEach(function(e){e.parentNode.appendChild(e)})})}function a(e,t,n,i){var o=t.parentNode.parentNode.nextSibling.querySelector(".tagged-item__content"),a=document.createElement("li");a.setAttribute("class","tagged-item__content__item"),a.setAttribute("data-position",i),a.innerHTML=n,r(e.code,a,!0),o.appendChild(a),o.parentNode.style.visibility="visible"}function c(e,t,n){var i=new Image;i.src=t.src,i.onload=function(){var i=e[0].tag_box[0],o=e[0].tag_box[1],a=e[0].tag_box[2],c=e[0].tag_box[3],l=t.naturalWidth,s=t.naturalHeight,d=i/l*100,u=o/s*100,p=(a-i)/l*100,v=(c-o)/s*100,m=t.parentNode.parentNode,b=document.createElement("span");b.setAttribute("class","pointer");var f=document.createElement("div");f.setAttribute("class","bullet");var y=parseInt("-"+p,16)+1e3;f.setAttribute("style","width:"+p+"%; left:"+d+"%;top:"+u+"%;height:"+v+"%;position:absolute;z-index:"+y),f.appendChild(b);var g=document.createElement("div");g.setAttribute("class","modal-banner-interativos"),g.innerHTML=n,f.appendChild(g),f=m.appendChild(f);var S=f.offsetWidth,q=f.offsetHeight,h=(S/2-16.5)/S*100,_=(q/2-16.5)/q*100;f.querySelector(".pointer").setAttribute("style","top:"+_+"%; left:"+h+"%;position:absolute");var A=(S/2+30)/S*100,L=(q/2-34)/q*100,N=f.querySelector("div[data-device-type]").getAttribute("data-device-type");if("mobile"!==N)parseInt(f.style.left,16)>80?(f.querySelector(".modal-banner-interativos").setAttribute("style","top:"+L+"%; right:"+A+"%;position:absolute"),f.querySelector(".modal-banner-interativos").setAttribute("class","modal-banner-interativos right")):f.querySelector(".modal-banner-interativos").setAttribute("style","top:"+L+"%; left:"+A+"%;position:absolute");else{var E=document.createElement("div");E.setAttribute("class","container-shadow"),f.appendChild(E),f.querySelector(".modal-banner-interativos").setAttribute("style","position: fixed; bottom: 50px; width: 80%; left: 50%;"),f.querySelector(".modal-banner-interativos").classList.add("mobile")}f.querySelector(".pointer").addEventListener("mouseleave",function(){var e,t=this;t.parentNode.querySelector(".modal-banner-interativos").addEventListener("mouseover",function(t){e=t.type}),setTimeout(function(){"mouseover"!==e&&t.parentNode.querySelector(".modal-banner-interativos").classList.remove("active")},500)}),"mobile"===N?(f.querySelector(".pointer").addEventListener("click",function(){null===f.getAttribute("data-price")&&(r(e[0].code,f,!1),f.setAttribute("data-price","true")),this.parentNode.querySelector(".container-shadow").classList.add("active"),this.parentNode.querySelector(".modal-banner-interativos").classList.add("active")}),f.querySelector(".container-shadow").addEventListener("click",function(){this.parentNode.querySelector(".modal-banner-interativos").classList.remove("active"),this.parentNode.querySelector(".container-shadow").classList.remove("active")})):(f.querySelector(".pointer").addEventListener("mouseover",function(){null===f.getAttribute("data-price")&&(r(e[0].code,f,!1),f.setAttribute("data-price","true")),this.parentNode.querySelector(".modal-banner-interativos").classList.add("active")}),f.querySelector(".modal-banner-interativos").addEventListener("mouseleave",function(){f.querySelector(".modal-banner-interativos").classList.contains("active")&&this.classList.remove("active")})),f.querySelector(".modal-banner-interativos").addEventListener("submit",function(e){e.preventDefault();var t=e.target.querySelector("input").value,n=e.target.querySelector("button").getAttribute("data-mi")?"&mi="+e.target.querySelector("button").getAttribute("data-mi"):"";document.cookie="parentCode="+t,window.location="/busca?similar=true"+n})}}function l(e,t,n){if(n)if(window.freedom.isMobile){t.addEventListener("click",function(){u=!0;var n=t.parentNode.parentNode.nextSibling.querySelector(".tagged-item__content__item");if(n||(e&&e.forEach(function(e,n){i(e,t,n)}),setTimeout(function(){o()},500)),u===!0){var r=t.parentNode.parentNode.nextSibling;r=r.style.visibility="visible"}});var r=t.parentNode.parentNode.nextSibling;r.addEventListener("click",function(){var e=t.parentNode.parentNode.nextSibling;e=e.style.visibility="hidden",u=!1});var a=t.parentNode.parentNode.nextSibling;a=a.style.visibility="visible"}else t.addEventListener("mouseover",function(){var n=t.parentNode.parentNode.nextSibling.querySelector(".tagged-item__content__item");n||(e&&e.forEach(function(e,n){i(e,t,n)}),setTimeout(function(){o()},500))});else e&&e.forEach(function(e,n){i(e,t,n)})}function s(t,n,r,i){var o=i.hasAttribute("data-mode-lookbook");if(n&&r){var a={method:"get",type:"json",data:{modelookbook:o},success:function(e){e&&l(e,i,o)},error:e};window.freedom.restClient.request("/visenze/ugc/"+n+"/"+r+"/"+o,a)}}function d(){var e=document.querySelectorAll("[data-campaign-interactive]"),t=document.querySelectorAll("[data-banner-interactive]");(e.length&&t.length)>0&&e.forEach(function(e){s(e.getAttribute("data-ugc-type"),e.getAttribute("data-campaign-interactive"),e.getAttribute("data-banner-interactive"),e)})}var u=!1;!function(){d()}()}();